window.Stately={};(function(a){function f(b,d){var c=new b;c.f(d);return c}function b(e,d){d||(d=e,e=null);var c=d.hasOwnProperty("constructor")?d.constructor:function(){};if(e){var a=function(){};a.prototype=e.prototype;c.prototype=new a;c.j=e.prototype}else c.prototype={};for(var g in d)c.prototype[g]=d[g];c.prototype.constructor=c;c.extend=b.bind(null,c);c.create=f.bind(null,c);return c}a.d=b})(Stately);
(function(a){a.e=a.d({f:function(a){if(!a.b)throw"callback required";this.b=a.b;this.options=a.options||{}},c:function(){this.b(this.options,this.h)},i:function(a){this.h=a}});return a.e})(Stately);
(function(a){function f(b,e,d){b=a.e.create({b:b,options:e});b.g=d;return b}a.StateMachine=a.d({f:function(){this.history=[]},storeMomento:function(b){if(!this.a)throw"no current state to store momento";this.a.i(b)},startState:function(b,a,d){"boolean"!==typeof b&&(d=a,a=b,b=!0);var c=this.a;c&&c.g&&this.history.push(c);c=this.a=f(a,d,b);c.c()},replaceState:function(b,a,d){if(!this.a)throw"no current state to replace";"boolean"!==typeof b&&(d=a,a=b,b=!0);(this.a=f(a,d,b)).c()},ephemeralState:function(b,
a){f(b,a,!1).c()},popState:function(){var a=this.history.pop();if(!a)throw"empty history, cannot popState";a.g&&(this.a=a);a.c()}})})(Stately);
